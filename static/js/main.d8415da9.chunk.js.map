{"version":3,"sources":["components/Task/styles.module.scss","App/styles.module.scss","components/TaskCreator/styles.module.scss","components/Button/styles.module.scss","components/Filters/styles.module.scss","hooks/useLocalStorage/index.js","components/TaskCreator/index.js","constants/filters.js","components/Task/index.js","components/Button/index.js","components/Filters/index.js","utils/array.js","App/index.js","index.js"],"names":["module","exports","useLocalStorage","key","initialValue","useState","jsonData","window","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","value","setItem","stringify","TaskCreator","onCreateTask","setValue","onSubmit","e","preventDefault","className","styles","taskCreator","type","taskCreator__input","placeholder","onChange","target","filters","Object","freeze","ALL","PENDING","COMPLETED","Task","filter","task","onComplete","onDelete","onNest","onUnNest","classnames","parent","completed","shouldRenderTask","htmlFor","id","task__checkbox","task__checkbox__input","title","checked","task__checkbox__title","task__actionBtn","onClick","previous","children","map","childTask","taskShape","PropTypes","string","isRequired","bool","number","arrayOf","shape","defaultProps","Button","text","onTrigger","isActive","btn","Filters","tasksRemaining","onChangeFilter","isFilterActive","currentFilter","filtersContainer","filtersContainer__filterGroup","keys","index","findIndex","currentTask","flattenArrayByProp","currentTasks","keyProp","result","forEach","push","Array","isArray","length","hasChildren","concat","findById","items","nestedKeyProp","item","found","App","allComplete","setAllComplete","setFilter","nextTaskId","setNextTaskId","setTasksRemaining","tasks","setTasks","useEffect","findPreviousTask","parentTasks","parents","currentTaskIndex","undefined","completeCascade","isComplete","child","completeTask","taskId","deleteTask","newTasks","t","nestTask","currentParents","newParent","splice","unNestTask","currentParentIndex","todoApp","todoApp__title","todoApp__paperContainer","newTask","todoApp__paperContainer__actionBtns","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8415da9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"task--nested\":\"styles_task--nested__Mj_NR\",\"task\":\"styles_task__1gpcx\",\"task--completed\":\"styles_task--completed__2n_vy\",\"title\":\"styles_title__3im_L\",\"task__checkbox\":\"styles_task__checkbox__2xMh7\",\"task__checkbox__input\":\"styles_task__checkbox__input__uRecE\",\"task__checkbox__title\":\"styles_task__checkbox__title__21zQy\",\"task__actionBtn\":\"styles_task__actionBtn__3QlwJ\",\"task__actionBtn--delete\":\"styles_task__actionBtn--delete__11GIb\",\"task__actionBtn--nested\":\"styles_task__actionBtn--nested__Hm9Ni\",\"task__actionBtn--rightArrow\":\"styles_task__actionBtn--rightArrow__Z829G\",\"task__actionBtn--leftArrow\":\"styles_task__actionBtn--leftArrow__2ki8N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todoApp\":\"styles_todoApp__3Zaw7\",\"todoApp__title\":\"styles_todoApp__title__2lN1f\",\"todoApp__paperContainer\":\"styles_todoApp__paperContainer__16Nqy\",\"todoApp__paperContainer__actionBtns\":\"styles_todoApp__paperContainer__actionBtns__Npkrz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskCreator\":\"styles_taskCreator__PRaYP\",\"taskCreator__input\":\"styles_taskCreator__input__3d1cD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"styles_btn__2AzBX\",\"btn--active\":\"styles_btn--active__1Rd-u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filtersContainer\":\"styles_filtersContainer__QHgPw\",\"filtersContainer__filterGroup\":\"styles_filtersContainer__filterGroup__23V5t\"};","import { useState } from 'react';\n\nconst useLocalStorage = (key, initialValue)  => {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst jsonData = window.localStorage.getItem(key);\n\n\t\t\treturn jsonData ? JSON.parse(jsonData) : initialValue;\n\t\t} catch (error) {\n\t\t\t// console.log(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = (value) => {\n\t\ttry {\n\t\t\tsetStoredValue(value);\n\t\t\twindow.localStorage.setItem(key, JSON.stringify(value));\n\t\t} catch (error) {\n\t\t\t// console.log(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n};\n\nexport default useLocalStorage;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './styles.module.scss';\n\nconst TaskCreator = ({ onCreateTask }) => {\n\tconst [value, setValue] = useState('');\n\n\tconst resetState = () => setValue('');\n\n\tconst onSubmit = e => {\n\t\te.preventDefault();\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tonCreateTask(value);\n\t\tresetState();\n\t};\n\treturn (\n\t\t<form onSubmit={onSubmit} className={styles.taskCreator}>\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclassName={styles.taskCreator__input}\n\t\t\t\tvalue={value}\n\t\t\t\tplaceholder=\"Add a new task\"\n\t\t\t\tonChange={e => {\n\t\t\t\t\tsetValue(e.target.value)\n\t\t\t\t}}\n\t\t\t/>\n\t\t</form>\n\t);\n};\n\nTaskCreator.propTypes = {\n\tonCreateTask: PropTypes.func.isRequired,\n};\n\n\nexport default TaskCreator;\n","\nexport const filters = Object.freeze({\n\tALL: 'ALL',\n\tPENDING: 'PENDING',\n\tCOMPLETED: 'COMPLETED'\n});\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport { filters } from '../../constants/filters';\n\nimport styles from './styles.module.scss';\n\nconst Task = ({ filter, task, onComplete, onDelete, onNest, onUnNest }) => {\n\tconst renderTask = () => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames(\n\t\t\t\t\tstyles.task,\n\t\t\t\t\ttask.completed ? styles['task--completed'] : null\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<label htmlFor={task.id} className={styles.task__checkbox}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={task.id}\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclassName={styles.task__checkbox__input}\n\t\t\t\t\t\tvalue={task.title}\n\t\t\t\t\t\tchecked={task.completed}\n\t\t\t\t\t\tonChange={(e) => onComplete(task.id, e.target.checked)}\n\t\t\t\t\t/>\n\t\t\t\t\t<span className={styles.task__checkbox__title}>{ task.title }</span>\n\t\t\t\t</label>\n\n\t\t\t\t<button\n\t\t\t\t\tclassName={classnames(styles.task__actionBtn, styles['task__actionBtn--delete'])}\n\t\t\t\t\tonClick={() => onDelete(task.id)}\n\t\t\t\t/>\n\t\t\t\t{ task.parent ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={classnames(styles.task__actionBtn, styles['task__actionBtn--nested'], styles['task__actionBtn--leftArrow'])}\n\t\t\t\t\t\tonClick={() => onUnNest(task.id)}\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n\t\t\t\t{ task.previous ? (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={classnames(styles.task__actionBtn, styles['task__actionBtn--nested'], styles['task__actionBtn--rightArrow'])}\n\t\t\t\t\t\tonClick={() => onNest(task.id)}\n\t\t\t\t\t/>\n\t\t\t\t) : null }\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst shouldRenderTask = () => {\n\t\tswitch (filter) {\n\t\t\tcase filters.PENDING:\n\t\t\t\treturn task.completed === false;\n\t\t\tcase filters.COMPLETED:\n\t\t\t\treturn task.completed === true;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classnames(task.parent ? styles['task--nested'] : null)}>\n\n\t\t\t{ shouldRenderTask() ? renderTask () : null }\n\n\t\t\t{ task.children &&\n\t\t\t\ttask.children.map((childTask) =>\n\t\t\t\t\t<Task\n\t\t\t\t\t\tfilter={filter}\n\t\t\t\t\t\ttask={childTask}\n\t\t\t\t\t\tonComplete={onComplete}\n\t\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\t\tonNest={onNest}\n\t\t\t\t\t\tonUnNest={onUnNest}\n\t\t\t\t\t\tkey={childTask.id}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t</div>\n\t);\n};\n\nconst taskShape = {\n\ttitle: PropTypes.string.isRequired,\n\tcompleted: PropTypes.bool.isRequired,\n\tid: PropTypes.number.isRequired,\n\n};\n\ntaskShape.children = PropTypes.arrayOf(PropTypes.shape(taskShape));\ntaskShape.parent = PropTypes.shape(taskShape);\ntaskShape.previous = PropTypes.shape(taskShape);\n\nTask.propTypes = {\n\tfilter: PropTypes.string,\n\ttask: PropTypes.shape(taskShape).isRequired,\n\tonDelete: PropTypes.func.isRequired,\n\tonComplete: PropTypes.func.isRequired,\n\tonNest: PropTypes.func.isRequired,\n\tonUnNest: PropTypes.func.isRequired,\n};\n\nTask.defaultProps = {\n\tfilter: filters.ALL\n};\n\nexport default Task;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport styles from './styles.module.scss';\n\nconst Button = ({ text, onTrigger, isActive }) => {\n\treturn (\n\t\t<button\n\t\t\tclassName={classnames(styles.btn, isActive ? styles['btn--active'] : null)}\n\t\t\tonClick={onTrigger}>{text}</button>\n\t);\n};\n\nButton.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tisActive: PropTypes.bool,\n\tonTrigger: PropTypes.func.isRequired,\n};\n\nButton.defaultProps = {\n\tisActive: false\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '../Button';\nimport { filters } from '../../constants/filters';\n\nimport styles from './styles.module.scss';\n\n\nconst Filters = ({ tasksRemaining, filter, onChangeFilter }) => {\n\tconst isFilterActive = (currentFilter) => filter === currentFilter;\n\n\treturn (\n\t\t<div className={styles.filtersContainer}>\n\t\t\t<span>{tasksRemaining} items left</span>\n\t\t\t<div className={styles.filtersContainer__filterGroup}>\n\n\t\t\t\t{ Object.keys(filters).map((currentFilter, index) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisActive={isFilterActive(currentFilter)}\n\t\t\t\t\t\tonTrigger={() => onChangeFilter(currentFilter)}\n\t\t\t\t\t\ttext={currentFilter}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>\n\t\t\t\t)) }\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nFilters.propTypes = {\n\ttasksRemaining: PropTypes.number.isRequired,\n\tfilter: PropTypes.string,\n\tonChangeFilter: PropTypes.func.isRequired\n};\n\nFilters.defaultProps = {\n\tfilter: filters.ALL\n};\n\n\nexport default Filters;\n","\nexport const findIndex = (task, parent) => parent.findIndex(currentTask => currentTask === task);\n\nconst hasChildren = (currentTask, keyProp) => Array.isArray(currentTask[keyProp]) && currentTask[keyProp].length > 0;\n\nexport const flattenArrayByProp = (currentTasks, keyProp) => {\n\tlet result = [];\n\n\tcurrentTasks.forEach(currentTask => {\n\t\tresult.push(currentTask);\n\n\t\tif (hasChildren(currentTask, keyProp)) {\n\t\t\tresult = result.concat(flattenArrayByProp(currentTask[keyProp], keyProp));\n\t\t}\n\t});\n\n\treturn result;\n};\n\nexport const findById = (id, items, nestedKeyProp) => {\n\t// eslint-disable-next-line no-restricted-syntax\n\tfor (const item of items) {\n\t\tif (item.id === id) {\n\t\t\treturn item;\n\t\t}\n\n\t\tconst found = findById(id, item[nestedKeyProp], nestedKeyProp);\n\t\tif (found) {\n\t\t\treturn found;\n\t\t}\n\t}\n\n\treturn undefined;\n};\n","import React, { useEffect } from 'react';\nimport useLocalStorage from '../hooks/useLocalStorage';\n\nimport TaskCreator from '../components/TaskCreator';\nimport Task from '../components/Task';\nimport Filters from '../components/Filters'\nimport Button from '../components/Button';\n\nimport { flattenArrayByProp, findIndex, findById } from '../utils/array';\n\nimport { filters } from '../constants/filters';\nimport styles from './styles.module.scss';\n\n\nconst App = () => {\n\tconst [allComplete, setAllComplete] = useLocalStorage('allComplete', false);\n\tconst [filter, setFilter] = useLocalStorage('filter', filters.ALL);\n\tconst [nextTaskId, setNextTaskId] = useLocalStorage('nextTaskId', 0);\n\tconst [tasksRemaining, setTasksRemaining] = useLocalStorage('tasksRemaining', 0);\n\tconst [tasks, setTasks] = useLocalStorage('tasks', []);\n\n\tuseEffect(() => {\n\t\tsetTasksRemaining(\n\t\t\tflattenArrayByProp(tasks, 'children')\n\t\t\t\t.filter(task => !task.completed).length\n\t\t);\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [tasks]);\n\n\tconst findPreviousTask = (task, parentTasks) => {\n\t\tconst parents = task.parent ? task.parent.children : parentTasks;\n\t\tconst currentTaskIndex = findIndex(task, parents);\n\t\treturn currentTaskIndex > 0 ? parents[currentTaskIndex - 1] : undefined;\n\t};\n\n\tconst createTask = (title) => {\n\t\tconst newTasks = [...tasks];\n\t\tconst newTask = {\n\t\t\ttitle,\n\t\t\tcompleted: false,\n\t\t\tparent: undefined,\n\t\t\tprevious: undefined,\n\t\t\tchildren: [],\n\t\t\tid: nextTaskId\n\t\t};\n\n\t\tnewTasks.push(newTask);\n\t\tnewTask.previous = findPreviousTask(newTask, newTasks);\n\n\t\tsetTasks(newTasks);\n\t\tsetNextTaskId(nextTaskId + 1);\n\t};\n\n\tconst completeCascade = (task, isComplete) => {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\ttask.completed = isComplete;\n\n\t\tif (task.children) {\n\t\t\ttask.children.forEach((child) => {\n\t\t\t\tcompleteCascade(child, isComplete);\n\t\t\t})\n\t\t}\n\t};\n\n\tconst completeTask = (taskId, isComplete) => {\n\t\tconst task = findById(taskId, tasks, 'children');\n\n\t\tcompleteCascade(task, isComplete);\n\n\t\tsetTasks([...tasks]);\n\t};\n\n\tconst deleteTask = (taskId) => {\n\t\tconst newTasks = [...tasks];\n\t\tconst task = findById(taskId, newTasks, 'children');\n\n\t\tif (task.parent) {\n\t\t\ttask.parent.children = task.parent.children.filter(t => t.id !== task.id);\n\t\t}\n\t\tsetTasks(newTasks.filter(t => t.id !== task.id));\n\t};\n\n\tconst nestTask = (taskId) => {\n\t\tconst newTasks = [...tasks];\n\t\tconst task = findById(taskId, newTasks, 'children');\n\t\tconst previous = findPreviousTask(task, newTasks);\n\n\t\tif (previous) {\n\t\t\tconst currentParents = task.parent ? task.parent.children :  newTasks;\n\t\t\tconst currentTaskIndex = findIndex(task, currentParents);\n\t\t\tconst newParent = previous;\n\n\t\t\tnewParent.children.push(task);\n\n\t\t\tcurrentParents.splice(currentTaskIndex, 1);\n\t\t\ttask.parent = newParent;\n\t\t\ttask.previous = findPreviousTask(task, newParent);\n\n\t\t\tsetTasks(newTasks);\n\t\t}\n\t};\n\n\tconst unNestTask = (taskId) => {\n\t\tconst newTasks = [...tasks];\n\t\tconst task = findById(taskId, newTasks, 'children');\n\n\t\tif (task.parent) {\n\t\t\tconst currentTaskIndex = findIndex(task, task.parent.children);\n\t\t\tconst newParent = task.parent.parent ? task.parent.parent.children :  newTasks;\n\t\t\tconst currentParentIndex = findIndex(task.parent, newParent);\n\n\t\t\tif (newParent) {\n\t\t\t\tnewParent.splice(currentParentIndex + 1, 0, task);\n\t\t\t}\n\n\t\t\ttask.parent.children.splice(currentTaskIndex, 1);\n\n\t\t\ttask.parent = task.parent.parent;\n\t\t\ttask.previous = findPreviousTask(task, newParent);\n\n\t\t\tsetTasks(newTasks);\n\t\t}\n\t};\n\n\tconst toggleAll = () => {\n\t\tconst newTasks = [...tasks];\n\t\tconst value = !allComplete;\n\n\t\tnewTasks.forEach(task => completeCascade(task, value));\n\n\t\tsetAllComplete(value);\n\n\t\tsetTasks(newTasks);\n\t};\n\n\tconst changeFilter = (currentFilter) => setFilter(currentFilter);\n\n\treturn (\n\t\t<div className={styles.todoApp}>\n\t\t\t<header>\n\t\t\t\t<h1 className={styles.todoApp__title}>todos</h1>\n\t\t\t</header>\n\n\t\t\t<div className={styles.todoApp__paperContainer}>\n\t\t\t\t<TaskCreator onCreateTask={createTask} />\n\n\t\t\t\t{ tasks.map((task, index) => (\n\t\t\t\t\t<Task\n\t\t\t\t\t\tfilter={filter}\n\t\t\t\t\t\ttask={task}\n\t\t\t\t\t\tonComplete={completeTask}\n\t\t\t\t\t\tonDelete={deleteTask}\n\t\t\t\t\t\tonNest={nestTask}\n\t\t\t\t\t\tonUnNest={unNestTask}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t/>\n\t\t\t\t)) }\n\n\t\t\t\t<Filters\n\t\t\t\t\tfilter={filter}\n\t\t\t\t\ttasksRemaining={tasksRemaining}\n\t\t\t\t\tonChangeFilter={changeFilter}\n\t\t\t\t/>\n\n\t\t\t\t<div className={styles.todoApp__paperContainer__actionBtns}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonTrigger={toggleAll}\n\t\t\t\t\t\ttext=\"Toggle All\"\n\t\t\t\t\t\tkey=\"toggleAll\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/index.scss';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App/>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n"],"sourceRoot":""}