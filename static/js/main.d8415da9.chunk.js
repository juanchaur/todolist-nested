(this["webpackJsonptodolist-nested"]=this["webpackJsonptodolist-nested"]||[]).push([[0],[,function(t,e,n){t.exports={"task--nested":"styles_task--nested__Mj_NR",task:"styles_task__1gpcx","task--completed":"styles_task--completed__2n_vy",title:"styles_title__3im_L",task__checkbox:"styles_task__checkbox__2xMh7",task__checkbox__input:"styles_task__checkbox__input__uRecE",task__checkbox__title:"styles_task__checkbox__title__21zQy",task__actionBtn:"styles_task__actionBtn__3QlwJ","task__actionBtn--delete":"styles_task__actionBtn--delete__11GIb","task__actionBtn--nested":"styles_task__actionBtn--nested__Hm9Ni","task__actionBtn--rightArrow":"styles_task__actionBtn--rightArrow__Z829G","task__actionBtn--leftArrow":"styles_task__actionBtn--leftArrow__2ki8N"}},,,,,,,,function(t,e,n){t.exports={todoApp:"styles_todoApp__3Zaw7",todoApp__title:"styles_todoApp__title__2lN1f",todoApp__paperContainer:"styles_todoApp__paperContainer__16Nqy",todoApp__paperContainer__actionBtns:"styles_todoApp__paperContainer__actionBtns__Npkrz"}},,function(t,e,n){t.exports={taskCreator:"styles_taskCreator__PRaYP",taskCreator__input:"styles_taskCreator__input__3d1cD"}},function(t,e,n){t.exports={btn:"styles_btn__2AzBX","btn--active":"styles_btn--active__1Rd-u"}},function(t,e,n){t.exports={filtersContainer:"styles_filtersContainer__QHgPw",filtersContainer__filterGroup:"styles_filtersContainer__filterGroup__23V5t"}},,,,,,,,,,function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),s=n(14),i=n.n(s),c=n(6),o=n(3),l=function(t,e){var n=Object(a.useState)((function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(a){return e}})),r=Object(o.a)(n,2),s=r[0],i=r[1];return[s,function(e){try{i(e),window.localStorage.setItem(t,JSON.stringify(e))}catch(n){}}]},_=n(11),u=n.n(_),p=n(0),d=function(t){var e=t.onCreateTask,n=Object(a.useState)(""),r=Object(o.a)(n,2),s=r[0],i=r[1];return Object(p.jsx)("form",{onSubmit:function(t){t.preventDefault(),s&&(e(s),i(""))},className:u.a.taskCreator,children:Object(p.jsx)("input",{type:"text",className:u.a.taskCreator__input,value:s,placeholder:"Add a new task",onChange:function(t){i(t.target.value)}})})},f=n(5),h=n.n(f),j=n(4),k=n.n(j),b=Object.freeze({ALL:"ALL",PENDING:"PENDING",COMPLETED:"COMPLETED"}),v=n(1),O=n.n(v),x=function t(e){var n=e.filter,a=e.task,r=e.onComplete,s=e.onDelete,i=e.onNest,c=e.onUnNest;return Object(p.jsxs)("div",{className:k()(a.parent?O.a["task--nested"]:null),children:[function(){switch(n){case b.PENDING:return!1===a.completed;case b.COMPLETED:return!0===a.completed;default:return!0}}()?Object(p.jsxs)("div",{className:k()(O.a.task,a.completed?O.a["task--completed"]:null),children:[Object(p.jsxs)("label",{htmlFor:a.id,className:O.a.task__checkbox,children:[Object(p.jsx)("input",{id:a.id,type:"checkbox",className:O.a.task__checkbox__input,value:a.title,checked:a.completed,onChange:function(t){return r(a.id,t.target.checked)}}),Object(p.jsx)("span",{className:O.a.task__checkbox__title,children:a.title})]}),Object(p.jsx)("button",{className:k()(O.a.task__actionBtn,O.a["task__actionBtn--delete"]),onClick:function(){return s(a.id)}}),a.parent?Object(p.jsx)("button",{className:k()(O.a.task__actionBtn,O.a["task__actionBtn--nested"],O.a["task__actionBtn--leftArrow"]),onClick:function(){return c(a.id)}}):null,a.previous?Object(p.jsx)("button",{className:k()(O.a.task__actionBtn,O.a["task__actionBtn--nested"],O.a["task__actionBtn--rightArrow"]),onClick:function(){return i(a.id)}}):null]}):null,a.children&&a.children.map((function(e){return Object(p.jsx)(t,{filter:n,task:e,onComplete:r,onDelete:s,onNest:i,onUnNest:c},e.id)}))]})},m={title:h.a.string.isRequired,completed:h.a.bool.isRequired,id:h.a.number.isRequired};m.children=h.a.arrayOf(h.a.shape(m)),m.parent=h.a.shape(m),m.previous=h.a.shape(m),x.defaultProps={filter:b.ALL};var y=x,N=n(12),C=n.n(N),g=function(t){var e=t.text,n=t.onTrigger,a=t.isActive;return Object(p.jsx)("button",{className:k()(C.a.btn,a?C.a["btn--active"]:null),onClick:n,children:e})};g.defaultProps={isActive:!1};var A=g,B=n(13),w=n.n(B),E=function(t){var e=t.tasksRemaining,n=t.filter,a=t.onChangeFilter,r=function(t){return n===t};return Object(p.jsxs)("div",{className:w.a.filtersContainer,children:[Object(p.jsxs)("span",{children:[e," items left"]}),Object(p.jsx)("div",{className:w.a.filtersContainer__filterGroup,children:Object.keys(b).map((function(t,e){return Object(p.jsx)(A,{isActive:r(t),onTrigger:function(){return a(t)},text:t},e)}))})]})};E.defaultProps={filter:b.ALL};var L=E,P=n(15),D=function(t,e){return e.findIndex((function(e){return e===t}))},R=function t(e,n){var a=[];return e.forEach((function(e){a.push(e),function(t,e){return Array.isArray(t[e])&&t[e].length>0}(e,n)&&(a=a.concat(t(e[n],n)))})),a},T=function t(e,n,a){var r,s=Object(P.a)(n);try{for(s.s();!(r=s.n()).done;){var i=r.value;if(i.id===e)return i;var c=t(e,i[a],a);if(c)return c}}catch(o){s.e(o)}finally{s.f()}},I=n(9),G=n.n(I),S=function(){var t=l("allComplete",!1),e=Object(o.a)(t,2),n=e[0],r=e[1],s=l("filter",b.ALL),i=Object(o.a)(s,2),_=i[0],u=i[1],f=l("nextTaskId",0),h=Object(o.a)(f,2),j=h[0],k=h[1],v=l("tasksRemaining",0),O=Object(o.a)(v,2),x=O[0],m=O[1],N=l("tasks",[]),C=Object(o.a)(N,2),g=C[0],B=C[1];Object(a.useEffect)((function(){m(R(g,"children").filter((function(t){return!t.completed})).length)}),[g]);var w=function(t,e){var n=t.parent?t.parent.children:e,a=D(t,n);return a>0?n[a-1]:void 0},E=function t(e,n){e.completed=n,e.children&&e.children.forEach((function(e){t(e,n)}))},P=function(t,e){var n=T(t,g,"children");E(n,e),B(Object(c.a)(g))},I=function(t){var e=Object(c.a)(g),n=T(t,e,"children");n.parent&&(n.parent.children=n.parent.children.filter((function(t){return t.id!==n.id}))),B(e.filter((function(t){return t.id!==n.id})))},S=function(t){var e=Object(c.a)(g),n=T(t,e,"children"),a=w(n,e);if(a){var r=n.parent?n.parent.children:e,s=D(n,r),i=a;i.children.push(n),r.splice(s,1),n.parent=i,n.previous=w(n,i),B(e)}},M=function(t){var e=Object(c.a)(g),n=T(t,e,"children");if(n.parent){var a=D(n,n.parent.children),r=n.parent.parent?n.parent.parent.children:e,s=D(n.parent,r);r&&r.splice(s+1,0,n),n.parent.children.splice(a,1),n.parent=n.parent.parent,n.previous=w(n,r),B(e)}};return Object(p.jsxs)("div",{className:G.a.todoApp,children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{className:G.a.todoApp__title,children:"todos"})}),Object(p.jsxs)("div",{className:G.a.todoApp__paperContainer,children:[Object(p.jsx)(d,{onCreateTask:function(t){var e=Object(c.a)(g),n={title:t,completed:!1,parent:void 0,previous:void 0,children:[],id:j};e.push(n),n.previous=w(n,e),B(e),k(j+1)}}),g.map((function(t,e){return Object(p.jsx)(y,{filter:_,task:t,onComplete:P,onDelete:I,onNest:S,onUnNest:M},e)})),Object(p.jsx)(L,{filter:_,tasksRemaining:x,onChangeFilter:function(t){return u(t)}}),Object(p.jsx)("div",{className:G.a.todoApp__paperContainer__actionBtns,children:Object(p.jsx)(A,{onTrigger:function(){var t=Object(c.a)(g),e=!n;t.forEach((function(t){return E(t,e)})),r(e),B(t)},text:"Toggle All"},"toggleAll")})]})]})};n(23);i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.d8415da9.chunk.js.map